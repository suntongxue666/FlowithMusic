"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/send/page",{

/***/ "(app-pages-browser)/./src/components/SongSelector.tsx":
/*!*****************************************!*\
  !*** ./src/components/SongSelector.tsx ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SongSelector)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\nfunction SongSelector(param) {\n    let { onSelect, selectedTrack } = param;\n    _s();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [recommendations, setRecommendations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [playingTrack, setPlayingTrack] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Load recommendations when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SongSelector.useEffect\": ()=>{\n            loadRecommendations();\n        }\n    }[\"SongSelector.useEffect\"], []);\n    // Close dropdown when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SongSelector.useEffect\": ()=>{\n            function handleClickOutside(event) {\n                if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                    setIsOpen(false);\n                }\n            }\n            document.addEventListener('mousedown', handleClickOutside);\n            return ({\n                \"SongSelector.useEffect\": ()=>{\n                    document.removeEventListener('mousedown', handleClickOutside);\n                }\n            })[\"SongSelector.useEffect\"];\n        }\n    }[\"SongSelector.useEffect\"], []);\n    const loadRecommendations = async ()=>{\n        try {\n            setLoading(true);\n            const response = await fetch('/api/spotify/recommendations');\n            const data = await response.json();\n            if (data.tracks && data.tracks.length > 0) {\n                setRecommendations(data.tracks);\n            } else {\n                // Fallback: search for popular songs\n                const fallbackResponse = await fetch('/api/spotify/search?q=popular%20hits%202024');\n                const fallbackData = await fallbackResponse.json();\n                setRecommendations(fallbackData.tracks || []);\n            }\n        } catch (error) {\n            console.error('Failed to load recommendations:', error);\n            // Try to load some popular songs as fallback\n            try {\n                const fallbackResponse = await fetch('/api/spotify/search?q=top%20hits');\n                const fallbackData = await fallbackResponse.json();\n                setRecommendations(fallbackData.tracks || []);\n            } catch (fallbackError) {\n                console.error('Fallback also failed:', fallbackError);\n            }\n        } finally{\n            setLoading(false);\n        }\n    };\n    const searchTracks = async (query)=>{\n        if (!query.trim()) {\n            setSearchResults([]);\n            return;\n        }\n        setLoading(true);\n        try {\n            const response = await fetch(\"/api/spotify/search?q=\".concat(encodeURIComponent(query)));\n            const data = await response.json();\n            setSearchResults(data.tracks || []);\n        } catch (error) {\n            console.error('Search failed:', error);\n            setSearchResults([]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleInputChange = (e)=>{\n        const value = e.target.value;\n        setSearchQuery(value);\n        // Debounce search\n        const timeoutId = setTimeout(()=>{\n            searchTracks(value);\n        }, 300);\n        return ()=>clearTimeout(timeoutId);\n    };\n    const handleInputClick = ()=>{\n        setIsOpen(true);\n        if (recommendations.length === 0 && !loading) {\n            loadRecommendations();\n        }\n    };\n    const handleTrackSelect = (track)=>{\n        var _track_artists_;\n        onSelect(track);\n        setSearchQuery(track.name + ' - ' + ((_track_artists_ = track.artists[0]) === null || _track_artists_ === void 0 ? void 0 : _track_artists_.name));\n        setIsOpen(false);\n        stopAudio();\n    };\n    const handleClearSearch = ()=>{\n        setSearchQuery('');\n        setSearchResults([]);\n        setIsOpen(true);\n    };\n    const playPreview = (track)=>{\n        if (!track.preview_url) return;\n        if (playingTrack === track.id) {\n            stopAudio();\n            return;\n        }\n        stopAudio();\n        if (audioRef.current) {\n            audioRef.current.src = track.preview_url;\n            audioRef.current.play();\n            setPlayingTrack(track.id);\n            audioRef.current.onended = ()=>{\n                setPlayingTrack(null);\n            };\n        }\n    };\n    const stopAudio = ()=>{\n        if (audioRef.current) {\n            audioRef.current.pause();\n            audioRef.current.currentTime = 0;\n        }\n        setPlayingTrack(null);\n    };\n    const displayTracks = searchQuery.trim() ? searchResults : recommendations;\n    const showRecommendationTitle = !searchQuery.trim() && recommendations.length > 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"song-selector\",\n        ref: dropdownRef,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"song-search\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Search and select your song\",\n                        className: \"form-input song-input\",\n                        value: searchQuery,\n                        onChange: handleInputChange,\n                        onClick: handleInputClick\n                    }, void 0, false, {\n                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                        lineNumber: 154,\n                        columnNumber: 9\n                    }, this),\n                    searchQuery && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"clear-search-btn\",\n                        onClick: handleClearSearch,\n                        children: \"✕\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                        lineNumber: 163,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"search-dropdown-btn\",\n                        onClick: ()=>setIsOpen(!isOpen),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            width: \"12\",\n                            height: \"12\",\n                            viewBox: \"0 0 12 12\",\n                            fill: \"none\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                d: isOpen ? \"M6 3L10 7H2L6 3Z\" : \"M6 9L2 5H10L6 9Z\",\n                                fill: \"currentColor\"\n                            }, void 0, false, {\n                                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                lineNumber: 175,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                            lineNumber: 174,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                        lineNumber: 170,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                lineNumber: 153,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"song-dropdown\",\n                children: [\n                    showRecommendationTitle && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"dropdown-header\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            children: \"猜你喜欢\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                            lineNumber: 184,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                        lineNumber: 183,\n                        columnNumber: 13\n                    }, this),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"loading\",\n                        children: \"加载中...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                        lineNumber: 189,\n                        columnNumber: 13\n                    }, this),\n                    displayTracks.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"track-list\",\n                        children: displayTracks.map((track)=>{\n                            var _track_album_images_, _track_artists_;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"track-item\",\n                                onClick: ()=>handleTrackSelect(track),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"track-info\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: ((_track_album_images_ = track.album.images[0]) === null || _track_album_images_ === void 0 ? void 0 : _track_album_images_.url) || '/default-album.png',\n                                                alt: track.album.name,\n                                                className: \"album-cover\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                lineNumber: 201,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"track-details\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"track-name\",\n                                                        children: track.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                        lineNumber: 207,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"track-artist\",\n                                                        children: (_track_artists_ = track.artists[0]) === null || _track_artists_ === void 0 ? void 0 : _track_artists_.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                        lineNumber: 208,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                lineNumber: 206,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                        lineNumber: 200,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"track-actions\",\n                                        children: [\n                                            track.preview_url && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                className: \"play-btn\",\n                                                onClick: (e)=>{\n                                                    e.stopPropagation();\n                                                    playPreview(track);\n                                                },\n                                                children: playingTrack === track.id ? '⏸️' : '▶️'\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                lineNumber: 213,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                href: track.external_urls.spotify,\n                                                target: \"_blank\",\n                                                rel: \"noopener noreferrer\",\n                                                className: \"spotify-link\",\n                                                onClick: (e)=>e.stopPropagation(),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    width: \"16\",\n                                                    height: \"16\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    fill: \"#1DB954\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        d: \"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.42 1.56-.299.421-1.02.599-1.559.3z\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                        lineNumber: 231,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                    lineNumber: 230,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                                lineNumber: 223,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                        lineNumber: 211,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, track.id, true, {\n                                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                                lineNumber: 195,\n                                columnNumber: 17\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                        lineNumber: 193,\n                        columnNumber: 13\n                    }, this),\n                    !loading && displayTracks.length === 0 && searchQuery.trim() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"no-results\",\n                        children: \"未找到相关歌曲\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                        lineNumber: 241,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                lineNumber: 181,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                ref: audioRef\n            }, void 0, false, {\n                fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n                lineNumber: 246,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/sun/Desktop/FlowithMusic/src/components/SongSelector.tsx\",\n        lineNumber: 152,\n        columnNumber: 5\n    }, this);\n}\n_s(SongSelector, \"BOE2T3y6BmsoyHADx6sa4NBteRU=\");\n_c = SongSelector;\nvar _c;\n$RefreshReg$(_c, \"SongSelector\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1NvbmdTZWxlY3Rvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRW1EO0FBUXBDLFNBQVNHLGFBQWEsS0FBOEM7UUFBOUMsRUFBRUMsUUFBUSxFQUFFQyxhQUFhLEVBQXFCLEdBQTlDOztJQUNuQyxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR1AsK0NBQVFBLENBQUM7SUFDckMsTUFBTSxDQUFDUSxhQUFhQyxlQUFlLEdBQUdULCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ1UsZUFBZUMsaUJBQWlCLEdBQUdYLCtDQUFRQSxDQUFpQixFQUFFO0lBQ3JFLE1BQU0sQ0FBQ1ksaUJBQWlCQyxtQkFBbUIsR0FBR2IsK0NBQVFBLENBQWlCLEVBQUU7SUFDekUsTUFBTSxDQUFDYyxTQUFTQyxXQUFXLEdBQUdmLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ2dCLGNBQWNDLGdCQUFnQixHQUFHakIsK0NBQVFBLENBQWdCO0lBQ2hFLE1BQU1rQixXQUFXakIsNkNBQU1BLENBQTBCO0lBQ2pELE1BQU1rQixjQUFjbEIsNkNBQU1BLENBQWlCO0lBRTNDLDZDQUE2QztJQUM3Q0MsZ0RBQVNBO2tDQUFDO1lBQ1JrQjtRQUNGO2lDQUFHLEVBQUU7SUFFTCx1Q0FBdUM7SUFDdkNsQixnREFBU0E7a0NBQUM7WUFDUixTQUFTbUIsbUJBQW1CQyxLQUFpQjtnQkFDM0MsSUFBSUgsWUFBWUksT0FBTyxJQUFJLENBQUNKLFlBQVlJLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDRixNQUFNRyxNQUFNLEdBQVc7b0JBQzlFbEIsVUFBVTtnQkFDWjtZQUNGO1lBRUFtQixTQUFTQyxnQkFBZ0IsQ0FBQyxhQUFhTjtZQUN2QzswQ0FBTztvQkFDTEssU0FBU0UsbUJBQW1CLENBQUMsYUFBYVA7Z0JBQzVDOztRQUNGO2lDQUFHLEVBQUU7SUFFTCxNQUFNRCxzQkFBc0I7UUFDMUIsSUFBSTtZQUNGTCxXQUFXO1lBQ1gsTUFBTWMs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QUFNM0IsS0FBS25EOzs7Ozs7Ozs7Ozs7QUFHbEI7R0E5T3dCZjtLQUFBQSIsInNvdXJjZXMiOlsiL1VzZXJzL3N1bi9EZXNrdG9wL0Zsb3dpdGhNdXNpYy9zcmMvY29tcG9uZW50cy9Tb25nU2VsZWN0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFNwb3RpZnlUcmFjayB9IGZyb20gJ0AvbGliL3Nwb3RpZnknXG5cbmludGVyZmFjZSBTb25nU2VsZWN0b3JQcm9wcyB7XG4gIG9uU2VsZWN0OiAodHJhY2s6IFNwb3RpZnlUcmFjaykgPT4gdm9pZFxuICBzZWxlY3RlZFRyYWNrPzogU3BvdGlmeVRyYWNrIHwgbnVsbFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTb25nU2VsZWN0b3IoeyBvblNlbGVjdCwgc2VsZWN0ZWRUcmFjayB9OiBTb25nU2VsZWN0b3JQcm9wcykge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtzZWFyY2hSZXN1bHRzLCBzZXRTZWFyY2hSZXN1bHRzXSA9IHVzZVN0YXRlPFNwb3RpZnlUcmFja1tdPihbXSlcbiAgY29uc3QgW3JlY29tbWVuZGF0aW9ucywgc2V0UmVjb21tZW5kYXRpb25zXSA9IHVzZVN0YXRlPFNwb3RpZnlUcmFja1tdPihbXSlcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtwbGF5aW5nVHJhY2ssIHNldFBsYXlpbmdUcmFja10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbClcbiAgY29uc3QgZHJvcGRvd25SZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG5cbiAgLy8gTG9hZCByZWNvbW1lbmRhdGlvbnMgd2hlbiBjb21wb25lbnQgbW91bnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZFJlY29tbWVuZGF0aW9ucygpXG4gIH0sIFtdKVxuXG4gIC8vIENsb3NlIGRyb3Bkb3duIHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrT3V0c2lkZShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgaWYgKGRyb3Bkb3duUmVmLmN1cnJlbnQgJiYgIWRyb3Bkb3duUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgIHNldElzT3BlbihmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSlcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGxvYWRSZWNvbW1lbmRhdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3BvdGlmeS9yZWNvbW1lbmRhdGlvbnMnKVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgaWYgKGRhdGEudHJhY2tzICYmIGRhdGEudHJhY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2V0UmVjb21tZW5kYXRpb25zKGRhdGEudHJhY2tzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmFsbGJhY2s6IHNlYXJjaCBmb3IgcG9wdWxhciBzb25nc1xuICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3BvdGlmeS9zZWFyY2g/cT1wb3B1bGFyJTIwaGl0cyUyMDIwMjQnKVxuICAgICAgICBjb25zdCBmYWxsYmFja0RhdGEgPSBhd2FpdCBmYWxsYmFja1Jlc3BvbnNlLmpzb24oKVxuICAgICAgICBzZXRSZWNvbW1lbmRhdGlvbnMoZmFsbGJhY2tEYXRhLnRyYWNrcyB8fCBbXSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgcmVjb21tZW5kYXRpb25zOicsIGVycm9yKVxuICAgICAgLy8gVHJ5IHRvIGxvYWQgc29tZSBwb3B1bGFyIHNvbmdzIGFzIGZhbGxiYWNrXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmYWxsYmFja1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3BvdGlmeS9zZWFyY2g/cT10b3AlMjBoaXRzJylcbiAgICAgICAgY29uc3QgZmFsbGJhY2tEYXRhID0gYXdhaXQgZmFsbGJhY2tSZXNwb25zZS5qc29uKClcbiAgICAgICAgc2V0UmVjb21tZW5kYXRpb25zKGZhbGxiYWNrRGF0YS50cmFja3MgfHwgW10pXG4gICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhbGxiYWNrIGFsc28gZmFpbGVkOicsIGZhbGxiYWNrRXJyb3IpXG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VhcmNoVHJhY2tzID0gYXN5bmMgKHF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIXF1ZXJ5LnRyaW0oKSkge1xuICAgICAgc2V0U2VhcmNoUmVzdWx0cyhbXSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9zcG90aWZ5L3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gKVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgc2V0U2VhcmNoUmVzdWx0cyhkYXRhLnRyYWNrcyB8fCBbXSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2VhcmNoIGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgc2V0U2VhcmNoUXVlcnkodmFsdWUpXG4gICAgXG4gICAgLy8gRGVib3VuY2Ugc2VhcmNoXG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWFyY2hUcmFja3ModmFsdWUpXG4gICAgfSwgMzAwKVxuXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXG4gIH1cblxuICBjb25zdCBoYW5kbGVJbnB1dENsaWNrID0gKCkgPT4ge1xuICAgIHNldElzT3Blbih0cnVlKVxuICAgIGlmIChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoID09PSAwICYmICFsb2FkaW5nKSB7XG4gICAgICBsb2FkUmVjb21tZW5kYXRpb25zKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVUcmFja1NlbGVjdCA9ICh0cmFjazogU3BvdGlmeVRyYWNrKSA9PiB7XG4gICAgb25TZWxlY3QodHJhY2spXG4gICAgc2V0U2VhcmNoUXVlcnkodHJhY2submFtZSArICcgLSAnICsgdHJhY2suYXJ0aXN0c1swXT8ubmFtZSlcbiAgICBzZXRJc09wZW4oZmFsc2UpXG4gICAgc3RvcEF1ZGlvKClcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUNsZWFyU2VhcmNoID0gKCkgPT4ge1xuICAgIHNldFNlYXJjaFF1ZXJ5KCcnKVxuICAgIHNldFNlYXJjaFJlc3VsdHMoW10pXG4gICAgc2V0SXNPcGVuKHRydWUpXG4gIH1cblxuICBjb25zdCBwbGF5UHJldmlldyA9ICh0cmFjazogU3BvdGlmeVRyYWNrKSA9PiB7XG4gICAgaWYgKCF0cmFjay5wcmV2aWV3X3VybCkgcmV0dXJuXG5cbiAgICBpZiAocGxheWluZ1RyYWNrID09PSB0cmFjay5pZCkge1xuICAgICAgc3RvcEF1ZGlvKClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHN0b3BBdWRpbygpXG4gICAgXG4gICAgaWYgKGF1ZGlvUmVmLmN1cnJlbnQpIHtcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQuc3JjID0gdHJhY2sucHJldmlld191cmxcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQucGxheSgpXG4gICAgICBzZXRQbGF5aW5nVHJhY2sodHJhY2suaWQpXG4gICAgICBcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQub25lbmRlZCA9ICgpID0+IHtcbiAgICAgICAgc2V0UGxheWluZ1RyYWNrKG51bGwpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3RvcEF1ZGlvID0gKCkgPT4ge1xuICAgIGlmIChhdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgICBhdWRpb1JlZi5jdXJyZW50LnBhdXNlKClcbiAgICAgIGF1ZGlvUmVmLmN1cnJlbnQuY3VycmVudFRpbWUgPSAwXG4gICAgfVxuICAgIHNldFBsYXlpbmdUcmFjayhudWxsKVxuICB9XG5cbiAgY29uc3QgZGlzcGxheVRyYWNrcyA9IHNlYXJjaFF1ZXJ5LnRyaW0oKSA/IHNlYXJjaFJlc3VsdHMgOiByZWNvbW1lbmRhdGlvbnNcbiAgY29uc3Qgc2hvd1JlY29tbWVuZGF0aW9uVGl0bGUgPSAhc2VhcmNoUXVlcnkudHJpbSgpICYmIHJlY29tbWVuZGF0aW9ucy5sZW5ndGggPiAwXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNvbmctc2VsZWN0b3JcIiByZWY9e2Ryb3Bkb3duUmVmfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic29uZy1zZWFyY2hcIj5cbiAgICAgICAgPGlucHV0IFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYW5kIHNlbGVjdCB5b3VyIHNvbmdcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0taW5wdXQgc29uZy1pbnB1dFwiXG4gICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbnB1dENoYW5nZX1cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVJbnB1dENsaWNrfVxuICAgICAgICAvPlxuICAgICAgICB7c2VhcmNoUXVlcnkgJiYgKFxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjbGVhci1zZWFyY2gtYnRuXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsZWFyU2VhcmNofVxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKclVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIGNsYXNzTmFtZT1cInNlYXJjaC1kcm9wZG93bi1idG5cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbighaXNPcGVuKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAxMiAxMlwiIGZpbGw9XCJub25lXCI+XG4gICAgICAgICAgICA8cGF0aCBkPXtpc09wZW4gPyBcIk02IDNMMTAgN0gyTDYgM1pcIiA6IFwiTTYgOUwyIDVIMTBMNiA5WlwifSBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7aXNPcGVuICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzb25nLWRyb3Bkb3duXCI+XG4gICAgICAgICAge3Nob3dSZWNvbW1lbmRhdGlvblRpdGxlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHJvcGRvd24taGVhZGVyXCI+XG4gICAgICAgICAgICAgIDxoND7njJzkvaDllpzmrKI8L2g0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICBcbiAgICAgICAgICB7bG9hZGluZyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmdcIj7liqDovb3kuK0uLi48L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHtkaXNwbGF5VHJhY2tzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmFjay1saXN0XCI+XG4gICAgICAgICAgICAgIHtkaXNwbGF5VHJhY2tzLm1hcCgodHJhY2spID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAga2V5PXt0cmFjay5pZH0gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0cmFjay1pdGVtXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRyYWNrU2VsZWN0KHRyYWNrKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWNrLWluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e3RyYWNrLmFsYnVtLmltYWdlc1swXT8udXJsIHx8ICcvZGVmYXVsdC1hbGJ1bS5wbmcnfSBcbiAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3RyYWNrLmFsYnVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWxidW0tY292ZXJcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWNrLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWNrLW5hbWVcIj57dHJhY2submFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyYWNrLWFydGlzdFwiPnt0cmFjay5hcnRpc3RzWzBdPy5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmFjay1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICAgIHt0cmFjay5wcmV2aWV3X3VybCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsYXktYnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheVByZXZpZXcodHJhY2spXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwbGF5aW5nVHJhY2sgPT09IHRyYWNrLmlkID8gJ+KPuO+4jycgOiAn4pa277iPJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPGEgXG4gICAgICAgICAgICAgICAgICAgICAgaHJlZj17dHJhY2suZXh0ZXJuYWxfdXJscy5zcG90aWZ5fVxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3BvdGlmeS1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCIjMURCOTU0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyIDBDNS40IDAgMCA1LjQgMCAxMnM1LjQgMTIgMTIgMTIgMTItNS40IDEyLTEyUzE4LjY2IDAgMTIgMHptNS41MjEgMTcuMzRjLS4yNC4zNTktLjY2LjQ4LTEuMDIxLjI0LTIuODItMS43NC02LjM2LTIuMTAxLTEwLjU2MS0xLjE0MS0uNDE4LjEyMi0uNzc5LS4xNzktLjg5OS0uNTM5LS4xMi0uNDIxLjE4LS43OC41NC0uOSA0LjU2LTEuMDIxIDguNTItLjYgMTEuNjQgMS4zMi40Mi4xOC40NzkuNjU5LjMwMSAxLjAyem0xLjQ0LTMuM2MtLjMwMS40Mi0uODQxLjYtMS4yNjIuMy0zLjIzOS0xLjk4LTguMTU5LTIuNTgtMTEuOTM5LTEuMzgtLjQ3OS4xMi0xLjAyLS4xMi0xLjE0LS42LS4xMi0uNDguMTItMS4wMjEuNi0xLjE0MUM5LjYgOS45IDE1IDEwLjU2MSAxOC43MiAxMi44NGMuMzYxLjE4MS41NC43OC4yNDEgMS4yem0uMTItMy4zNkMxNS4yNCA4LjQgOC44MiA4LjE2IDUuMTYgOS4zMDFjLS42LjE3OS0xLjItLjE4MS0xLjM4LS43MjEtLjE4LS42MDEuMTgtMS4yLjcyLTEuMzgxIDQuMjYtMS4yNiAxMS4yOC0xLjAyIDE1LjcyMSAxLjYyMS41MzkuMy43MTkgMS4wMi40MiAxLjU2LS4yOTkuNDIxLTEuMDIuNTk5LTEuNTU5LjN6XCIvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHshbG9hZGluZyAmJiBkaXNwbGF5VHJhY2tzLmxlbmd0aCA9PT0gMCAmJiBzZWFyY2hRdWVyeS50cmltKCkgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuby1yZXN1bHRzXCI+5pyq5om+5Yiw55u45YWz5q2M5puyPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8YXVkaW8gcmVmPXthdWRpb1JlZn0gLz5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIlNvbmdTZWxlY3RvciIsIm9uU2VsZWN0Iiwic2VsZWN0ZWRUcmFjayIsImlzT3BlbiIsInNldElzT3BlbiIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJzZWFyY2hSZXN1bHRzIiwic2V0U2VhcmNoUmVzdWx0cyIsInJlY29tbWVuZGF0aW9ucyIsInNldFJlY29tbWVuZGF0aW9ucyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwicGxheWluZ1RyYWNrIiwic2V0UGxheWluZ1RyYWNrIiwiYXVkaW9SZWYiLCJkcm9wZG93blJlZiIsImxvYWRSZWNvbW1lbmRhdGlvbnMiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldmVudCIsImN1cnJlbnQiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZXNwb25zZSIsImZldGNoIiwiZGF0YSIsImpzb24iLCJ0cmFja3MiLCJsZW5ndGgiLCJmYWxsYmFja1Jlc3BvbnNlIiwiZmFsbGJhY2tEYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiZmFsbGJhY2tFcnJvciIsInNlYXJjaFRyYWNrcyIsInF1ZXJ5IiwidHJpbSIsImVuY29kZVVSSUNvbXBvbmVudCIsImhhbmRsZUlucHV0Q2hhbmdlIiwiZSIsInZhbHVlIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImhhbmRsZUlucHV0Q2xpY2siLCJoYW5kbGVUcmFja1NlbGVjdCIsInRyYWNrIiwibmFtZSIsImFydGlzdHMiLCJzdG9wQXVkaW8iLCJoYW5kbGVDbGVhclNlYXJjaCIsInBsYXlQcmV2aWV3IiwicHJldmlld191cmwiLCJpZCIsInNyYyIsInBsYXkiLCJvbmVuZGVkIiwicGF1c2UiLCJjdXJyZW50VGltZSIsImRpc3BsYXlUcmFja3MiLCJzaG93UmVjb21tZW5kYXRpb25UaXRsZSIsImRpdiIsImNsYXNzTmFtZSIsInJlZiIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwib25DaGFuZ2UiLCJvbkNsaWNrIiwiYnV0dG9uIiwic3ZnIiwid2lkdGgiLCJoZWlnaHQiLCJ2aWV3Qm94IiwiZmlsbCIsInBhdGgiLCJkIiwiaDQiLCJtYXAiLCJpbWciLCJhbGJ1bSIsImltYWdlcyIsInVybCIsImFsdCIsInN0b3BQcm9wYWdhdGlvbiIsImEiLCJocmVmIiwiZXh0ZXJuYWxfdXJscyIsInNwb3RpZnkiLCJyZWwiLCJhdWRpbyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/SongSelector.tsx\n"));

/***/ })

});